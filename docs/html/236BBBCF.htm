<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CombinationOptimizationContext Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="CombinationOptimizationContext class" /><meta name="System.Keywords" content="Novacta.Analytics.Advanced.CombinationOptimizationContext class" /><meta name="Microsoft.Help.F1" content="Novacta.Analytics.Advanced.CombinationOptimizationContext" /><meta name="Microsoft.Help.Id" content="T:Novacta.Analytics.Advanced.CombinationOptimizationContext" /><meta name="Description" content="Represents a Cross-Entropy context supporting the optimization of objective functions whose arguments are the combinations having the specified size available from a given set of items." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Novacta.Analytics.Advanced" /><meta name="file" content="236BBBCF" /><meta name="guid" content="236BBBCF" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Novacta.Analytics Documentation<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/a4ea75a2-ef53-4ea2-a7f4-b493a50f90b3.htm" title="Novacta.Analytics Documentation" tocid="roottoc">Novacta.Analytics Documentation</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/D9FC3C8F.htm" title="Novacta.Analytics namespaces" tocid="D9FC3C8F">Novacta.Analytics namespaces</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/F249DE1E.htm" title="Novacta.Analytics.Advanced" tocid="F249DE1E">Novacta.Analytics.Advanced</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/236BBBCF.htm" title="CombinationOptimizationContext Class" tocid="236BBBCF">CombinationOptimizationContext Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/F296C4DC.htm" title="CombinationOptimizationContext Constructor " tocid="F296C4DC">CombinationOptimizationContext Constructor </a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/655D8EF3.htm" title="CombinationOptimizationContext Properties" tocid="655D8EF3">CombinationOptimizationContext Properties</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/C71F7816.htm" title="CombinationOptimizationContext Methods" tocid="C71F7816">CombinationOptimizationContext Methods</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>CombinationOptimizationContext Class</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Represents a Cross-Entropy context supporting
            the optimization of objective functions whose
            arguments are the combinations having the specified
            size available from a given set of items.
            </div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="ID0RBSection" class="collapsibleSection"><a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">System<span id="LST236BBBCF_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <a href="F04A1B18.htm">Novacta.Analytics.Advanced<span id="LST236BBBCF_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>CrossEntropyContext</a><br />    <a href="1C32368C.htm">Novacta.Analytics.Advanced<span id="LST236BBBCF_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>SystemPerformanceOptimizationContext</a><br />      <span class="selflink">Novacta.Analytics.Advanced<span id="LST236BBBCF_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>CombinationOptimizationContext</span><br /></div><p> </p>
    <strong>Namespace:</strong> 
   <a href="F249DE1E.htm">Novacta.Analytics.Advanced</a><br />
    <strong>Assembly:</strong>
   Novacta.Analytics (in Novacta.Analytics.dll) Version: 2.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EDCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EDCA','cs','1','4');return false;">C#</a></div><div id="ID1EDCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EDCA','vb','2','4');return false;">VB</a></div><div id="ID1EDCA_tab3" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EDCA','cpp','3','4');return false;">C++</a></div><div id="ID1EDCA_tab4" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID1EDCA','fs','4','4');return false;">F#</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EDCA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID1EDCA');return false;" title="Copy">Copy</a></div></div><div id="ID1EDCA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="identifier">CombinationOptimizationContext</span> : <span class="identifier">SystemPerformanceOptimizationContext</span></pre></div><div id="ID1EDCA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">NotInheritable</span> <span class="keyword">Class</span> <span class="identifier">CombinationOptimizationContext</span>
	<span class="keyword">Inherits</span> <span class="identifier">SystemPerformanceOptimizationContext</span></pre></div><div id="ID1EDCA_code_Div3" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">ref class</span> <span class="identifier">CombinationOptimizationContext</span> <span class="keyword">sealed</span> : <span class="keyword">public</span> <span class="identifier">SystemPerformanceOptimizationContext</span></pre></div><div id="ID1EDCA_code_Div4" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve">[&lt;<span class="identifier">SealedAttribute</span>&gt;]
<span class="keyword">type</span> <span class="identifier">CombinationOptimizationContext</span> =  
    <span class="keyword">class</span>
        <span class="keyword">inherit</span> <span class="identifier">SystemPerformanceOptimizationContext</span>
    <span class="keyword">end</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EDCA");</script></div><p>The <span class="selflink">CombinationOptimizationContext</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Constructors</span></div><div id="ID3RBSection" class="collapsibleSection"><table class="members" id="constructorList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="F296C4DC.htm">CombinationOptimizationContext</a></td><td><div class="summary">
            Initializes a new instance of the 
            <span class="selflink">CombinationOptimizationContext</span> class 
            aimed to optimize the specified 
            objective function,
            with the given optimization goal, 
            range of iterations, and probability smoothing coefficient.
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Properties</span></div><div id="ID4RBSection" class="collapsibleSection"><table class="members" id="propertyList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="49E242C9.htm">CombinationDimension</a></td><td><div class="summary">
            Gets the dimension of a combination represented by a 
            system's state
            when 
            a <a href="298402DD.htm">CrossEntropyProgram</a> executes in this
            context.
            </div></td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protproperty.gif" alt="Protected property" title="Protected property" /></td><td><a href="66F284A1.htm">EliteSampleDefinition</a></td><td><div class="summary">
            Gets the elite sample definition for this context.
            </div> (Inherited from <a href="1C32368C.htm">SystemPerformanceOptimizationContext</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="1FE43CBC.htm">InitialParameter</a></td><td><div class="summary">
            Gets the parameter initially exploited to sample from 
            the state-space of the system defined by this context.
            </div> (Inherited from <a href="F04A1B18.htm">CrossEntropyContext</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="CB60FB7E.htm">MaximumNumberOfIterations</a></td><td><div class="summary">
            Gets the maximum number of iterations 
            allowed by this context. 
            </div> (Inherited from <a href="1C32368C.htm">SystemPerformanceOptimizationContext</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="44E3AF08.htm">MinimumNumberOfIterations</a></td><td><div class="summary">
            Gets the minimum number of iterations 
            required by this context.
            </div> (Inherited from <a href="1C32368C.htm">SystemPerformanceOptimizationContext</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="847A8F0F.htm">OptimizationGoal</a></td><td><div class="summary">
            Gets a constant specifying if the performance function 
            in this context must be minimized or maximized.
            </div> (Inherited from <a href="1C32368C.htm">SystemPerformanceOptimizationContext</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="C1880C30.htm">ProbabilitySmoothingCoefficient</a></td><td><div class="summary">
            Gets the coefficient that defines the smoothing scheme 
            for the probabilities of the Cross-Entropy parameters 
            exploited by this context.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="6BFCB280.htm">StateDimension</a></td><td><div class="summary">
            Gets or sets the dimension of a vector representing a 
            system's state
            when 
            a <a href="298402DD.htm">CrossEntropyProgram</a> executes in this
            context.
            </div> (Inherited from <a href="F04A1B18.htm">CrossEntropyContext</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="876F94ED.htm">TraceExecution</a></td><td><div class="summary">
            Gets or sets a value indicating whether the 
            execution of this context must be traced.
            </div> (Inherited from <a href="F04A1B18.htm">CrossEntropyContext</a>.)</td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="ID5RBSection" class="collapsibleSection"><table class="members" id="methodList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://docs.microsoft.com/dotnet/api/system.object.equals#System_Object_Equals_System_Object_" target="_blank" rel="noopener noreferrer">Equals</a></td><td><div class="summary">Determines whether the specified object is equal to the current object.</div> (Inherited from <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="https://docs.microsoft.com/dotnet/api/system.object.finalize#System_Object_Finalize" target="_blank" rel="noopener noreferrer">Finalize</a></td><td><div class="summary">Allows an object to try to free resources and perform other cleanup operations before it is reclaimed by garbage collection.</div> (Inherited from <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://docs.microsoft.com/dotnet/api/system.object.gethashcode#System_Object_GetHashCode" target="_blank" rel="noopener noreferrer">GetHashCode</a></td><td><div class="summary">Serves as the default hash function.</div> (Inherited from <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="8571586F.htm">GetOptimalState</a></td><td><div class="summary">
            Gets the argument that optimizes the objective function
            in this context, according to the specified 
            Cross-Entropy sampling parameter.
            </div> (Overrides <a href="9B360782.htm">SystemPerformanceOptimizationContext<span id="LST236BBBCF_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>GetOptimalState(DoubleMatrix)</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://docs.microsoft.com/dotnet/api/system.object.gettype#System_Object_GetType" target="_blank" rel="noopener noreferrer">GetType</a></td><td><div class="summary">Gets the <a href="https://docs.microsoft.com/dotnet/api/system.type" target="_blank" rel="noopener noreferrer">Type</a> of the current instance.</div> (Inherited from <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="https://docs.microsoft.com/dotnet/api/system.object.memberwiseclone#System_Object_MemberwiseClone" target="_blank" rel="noopener noreferrer">MemberwiseClone</a></td><td><div class="summary">Creates a shallow copy of the current <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>.</div> (Inherited from <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /><img src="../icons/CodeExample.png" alt="Code example" title="Code example" /></td><td><a href="E992D186.htm">OnExecutedIteration</a></td><td><div class="summary">
            Called after completion of each iteration of 
            a <a href="298402DD.htm">CrossEntropyProgram</a> executing in this
            context.
            </div> (Overrides <a href="E2DFB2BB.htm">SystemPerformanceOptimizationContext<span id="LST236BBBCF_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_5?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>OnExecutedIteration(Int32, DoubleMatrix, LinkedList<span id="LST236BBBCF_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_6?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>Double<span id="LST236BBBCF_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_7?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, LinkedList<span id="LST236BBBCF_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_8?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>DoubleMatrix<span id="LST236BBBCF_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_9?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>)</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="6D76F6BC.htm">PartialSample</a></td><td><div class="summary">
            Draws the specified subset of a sample from a distribution 
            characterized by the given parameter, using the stated
            random number generator. Used when executing the sampling
            step of a  <a href="298402DD.htm">CrossEntropyProgram</a> running
            in this context.
            </div> (Overrides <a href="6D600898.htm">CrossEntropyContext<span id="LST236BBBCF_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_10?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>PartialSample(<span id="LST236BBBCF_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_11?cpp=array&lt;");</script>Double<span id="LST236BBBCF_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_12?cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]");</script>, Tuple<span id="LST236BBBCF_13"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_13?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>Int32, Int32<span id="LST236BBBCF_14"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_14?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, RandomNumberGenerator, DoubleMatrix, Int32)</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="64A89E68.htm">Performance</a></td><td><div class="summary">
            Computes the objective function at a specified argument
            as the performance defined in this context.
            </div> (Overrides <a href="1AF89526.htm">CrossEntropyContext<span id="LST236BBBCF_15"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_15?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Performance(DoubleMatrix)</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="8094F2FA.htm">SmoothParameter</a></td><td><div class="summary">
            Provides the smoothing of the updated sampling parameter
            of a <a href="E252E84.htm">SystemPerformanceOptimizer</a>  
            executing in this context.        
            </div> (Overrides <a href="DB205520.htm">SystemPerformanceOptimizationContext<span id="LST236BBBCF_16"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_16?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>SmoothParameter(LinkedList<span id="LST236BBBCF_17"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_17?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>DoubleMatrix<span id="LST236BBBCF_18"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_18?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>)</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="658E4A0.htm">StopAtIntermediateIteration</a></td><td><div class="summary">
            Specifies conditions 
            under which 
            a <a href="E252E84.htm">SystemPerformanceOptimizer</a> executing in 
            this context should be considered as terminated after
            completing an intermediate iteration.
            </div> (Overrides <a href="F068CBEA.htm">SystemPerformanceOptimizationContext<span id="LST236BBBCF_19"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_19?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>StopAtIntermediateIteration(Int32, LinkedList<span id="LST236BBBCF_20"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_20?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>Double<span id="LST236BBBCF_21"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_21?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, LinkedList<span id="LST236BBBCF_22"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_22?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>DoubleMatrix<span id="LST236BBBCF_23"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_23?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>)</a>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="94DC9B0B.htm">StopExecution</a></td><td><div class="summary">
            Specifies conditions 
            under which 
            a <a href="298402DD.htm">CrossEntropyProgram</a> executing in this 
            context should be considered 
            as terminated.
            </div> (Inherited from <a href="1C32368C.htm">SystemPerformanceOptimizationContext</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="https://docs.microsoft.com/dotnet/api/system.object.tostring#System_Object_ToString" target="_blank" rel="noopener noreferrer">ToString</a></td><td><div class="summary">Returns a string that represents the current object.</div> (Inherited from <a href="https://docs.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="CD947DDD.htm">UpdateLevel</a></td><td><div class="summary">
            Updates the performance level for the current iteration 
            of a  <a href="298402DD.htm">CrossEntropyProgram</a> executing in
            this context
            and determines the corresponding elite sample.
            </div> (Inherited from <a href="1C32368C.htm">SystemPerformanceOptimizationContext</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="7A4A61E.htm">UpdateParameter</a></td><td><div class="summary">
            Updates the 
            sampling parameter attending the generation 
            of the sample in the next iteration of a 
             <a href="298402DD.htm">CrossEntropyProgram</a> executing in 
             this context.
            </div> (Overrides <a href="4AE2243.htm">CrossEntropyContext<span id="LST236BBBCF_24"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_24?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>UpdateParameter(LinkedList<span id="LST236BBBCF_25"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_25?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>DoubleMatrix<span id="LST236BBBCF_26"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_26?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, DoubleMatrix)</a>.)</td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID6RBSection" class="collapsibleSection"><p>
            Class <span class="selflink">CombinationOptimizationContext</span> derives from
            <a href="1C32368C.htm">SystemPerformanceOptimizationContext</a>, and defines
            a Cross-Entropy context able to solve combinatorial optimization
            problems regarding the selection of fixed size subsets from
            a collection of items.
            </p><p>
            Class <a href="1C32368C.htm">SystemPerformanceOptimizationContext</a> thoroughly 
            defines a system whose performance must be optimized. 
            Class <span class="selflink">CombinationOptimizationContext</span> specializes 
            that system by assuming that its performance,
            say <img alt="LaTeX equation" src="../media/latex_4202.svg" style="vertical-align: -0px" />, is defined on the set of combinations, 
            having the specified size, available from 
            a given collection of items.
            </p><p>
            The system's state-space 
            <img alt="LaTeX equation" src="../media/latex_4203.svg" style="vertical-align: -0px" />, i.e. the domain of 
            <img alt="LaTeX equation" src="../media/latex_4204.svg" style="vertical-align: -0px" />, can thus be represented as the Cartesian 
            product of 
            <img alt="LaTeX equation" src="../media/latex_4205.svg" style="vertical-align: -0px" /> copies of the set 
            <img alt="LaTeX equation" src="../media/latex_4206.svg" style="vertical-align: -4px" />, where <img alt="LaTeX equation" src="../media/latex_4207.svg" style="vertical-align: -0px" /> is the 
            number of available items. An argument
            <img alt="LaTeX equation" src="../media/latex_4208.svg" style="vertical-align: -4px" /> defines a combination 
            by signaling that the <img alt="LaTeX equation" src="../media/latex_4209.svg" style="vertical-align: -4px" />-th item is included in
            the combination
            if <img alt="LaTeX equation" src="../media/latex_4210.svg" style="vertical-align: -5px" />, otherwise setting <img alt="LaTeX equation" src="../media/latex_4211.svg" style="vertical-align: -5px" />.
            </p><p>
            If the combinations under study have fixed size equal to
            <img alt="LaTeX equation" src="../media/latex_4212.svg" style="vertical-align: -0px" />, then each argument will have exactly
            <img alt="LaTeX equation" src="../media/latex_4213.svg" style="vertical-align: -0px" /> nonzero entries.
            </p><p>
            A Cross-Entropy optimizer is designed to identify the 
            optimal arguments at which the performance function of a
            complex system reaches
            its minimum or maximum value.
            To get the optimal state, the system's state-space 
            <img alt="LaTeX equation" src="../media/latex_4214.svg" style="vertical-align: -0px" />, i.e. the domain of 
            <img alt="LaTeX equation" src="../media/latex_4215.svg" style="vertical-align: -0px" />, is traversed iteratively 
            by sampling, at each iteration, from 
            a specific density function, member of a parametric 
            family  
            <br /><br /><img alt="LaTeX equation" src="../media/latex_4216.svg" /><br /><br />
            where <img alt="LaTeX equation" src="../media/latex_4217.svg" style="vertical-align: -1px" /> is 
            a possible argument of <img alt="LaTeX equation" src="../media/latex_4218.svg" style="vertical-align: -0px" />, 
            and <img alt="LaTeX equation" src="../media/latex_4219.svg" style="vertical-align: -1px" /> is the set of 
            allowable values for parameter <img alt="LaTeX equation" src="../media/latex_4220.svg" style="vertical-align: -0px" />.
            The parameter exploited at a given iteration <img alt="LaTeX equation" src="../media/latex_4221.svg" style="vertical-align: -0px" />
            is referred to
            as the <i>reference</i> parameter of such iteration and indicated
            as <img alt="LaTeX equation" src="../media/latex_4222.svg" style="vertical-align: -2px" />.
            A minimum number
            of iterations, say <img alt="LaTeX equation" src="../media/latex_4223.svg" style="vertical-align: -0px" />, must be executed, while a 
            number of them up to a maximum, say <img alt="LaTeX equation" src="../media/latex_4224.svg" style="vertical-align: -0px" />, is allowed.
            </p><p><b>Implementing a context for optimizing on combinations</b></p><p>
            The Cross-Entropy method 
            provides an iterative multi step procedure. In the context
            of combinatorial optimization, at each 
            iteration <img alt="LaTeX equation" src="../media/latex_4225.svg" style="vertical-align: -0px" /> a <i>sampling step</i>
            is executed in order to generate diverse candidate arguments of 
            the objective function, sampled from a distribution 
            characterized by the <i>reference parameter</i> of the iteration,
            say <img alt="LaTeX equation" src="../media/latex_4226.svg" style="vertical-align: -2px" />. 
            Such sample is thus exploited in the <i>updating step</i> in which 
            a new <i>reference</i> 
            parameter <img alt="LaTeX equation" src="../media/latex_4227.svg" style="vertical-align: -2px" /> is 
            identified to modify the distribution from which the samples 
            will be obtained in the next iteration: such modification is
            executed in order to improve 
            the probability of sampling relevant arguments, i.e. those 
            arguments corresponding to the function values of interest
            (See the documentation of 
            class <a href="298402DD.htm">CrossEntropyProgram</a> for a 
            thorough discussion of the Cross-Entropy method). 
            </p><p>
            When the Cross-Entropy method is applied in an optimization
            context, a final <i>optimizing step</i> is executed, in which 
            the argument corresponding to the searched extremum  
            is effectively identified.
            </p><p>These steps have been implemented as follows.</p><p><b><i>Sampling step</i></b></p><p>
            In a <span class="selflink">CombinationOptimizationContext</span>, the parametric 
            family <img alt="LaTeX equation" src="../media/latex_4228.svg" style="vertical-align: -1px" /> is outlined as follows.
            Each component <img alt="LaTeX equation" src="../media/latex_4229.svg" style="vertical-align: -5px" /> of an argument
            <img alt="LaTeX equation" src="../media/latex_4230.svg" style="vertical-align: -4px" /> of <img alt="LaTeX equation" src="../media/latex_4231.svg" style="vertical-align: -0px" />
            is attached to a independent
            Bernoulli distribution having parameter <img alt="LaTeX equation" src="../media/latex_4232.svg" style="vertical-align: -5px" />,
            and <img alt="LaTeX equation" src="../media/latex_4233.svg" style="vertical-align: -4px" /> is defined as the distribution of the sum 
            of the corresponding Bernoulli trials, conditional to having 
            exactly <img alt="LaTeX equation" src="../media/latex_4234.svg" style="vertical-align: -0px" /> successes.
            The Cross-Entropy sampling parameter <img alt="LaTeX equation" src="../media/latex_4235.svg" style="vertical-align: -0px" />
            can thus be  
            represented as the <img alt="LaTeX equation" src="../media/latex_4236.svg" style="vertical-align: -0px" /> vector
            <img alt="LaTeX equation" src="../media/latex_4237.svg" style="vertical-align: -6px" />.
            </p><p>
            The parametric space <img alt="LaTeX equation" src="../media/latex_4238.svg" style="vertical-align: -1px" /> should 
            include a parameter under which all possible states must have 
            a real chance of being selected: this parameter
            is specified as the initial <i>reference</i> parameter
            <img alt="LaTeX equation" src="../media/latex_4239.svg" style="vertical-align: -2px" />.
            A <span class="selflink">CombinationOptimizationContext</span> defines 
            <img alt="LaTeX equation" src="../media/latex_4240.svg" style="vertical-align: -2px" /> as a constant vector whose entries are all
            equal to <img alt="LaTeX equation" src="../media/latex_4241.svg" style="vertical-align: -0px" />. 
            </p><p><b><i>Updating step</i></b></p><p>
            At iteration <img alt="LaTeX equation" src="../media/latex_4242.svg" style="vertical-align: -0px" />, let us represent the sample drawn 
            as <img alt="LaTeX equation" src="../media/latex_4243.svg" style="vertical-align: -5px" />, where <img alt="LaTeX equation" src="../media/latex_4244.svg" style="vertical-align: -0px" /> is the 
            Cross-Entropy sample size, and the <img alt="LaTeX equation" src="../media/latex_4245.svg" style="vertical-align: -0px" />-th sample point
            is the sequence <img alt="LaTeX equation" src="../media/latex_4246.svg" style="vertical-align: -5px" />.
            The parameter's 
            updating formula is, 
            for <img alt="LaTeX equation" src="../media/latex_4247.svg" style="vertical-align: -4px" />,
            <br /><br /><img alt="LaTeX equation" src="../media/latex_4248.svg" /><br /><br />
            where <img alt="LaTeX equation" src="../media/latex_4249.svg" style="vertical-align: -2px" />
            is the elite sample in this context, i.e. the set of sample
            points having the lowest performances observed during the <img alt="LaTeX equation" src="../media/latex_4250.svg" style="vertical-align: -0px" />-th
            iteration, if minimizing, the highest ones, otherwise, while
            <img alt="LaTeX equation" src="../media/latex_4251.svg" style="vertical-align: -4px" /> is its indicator function.
            </p><p><i>Applying a smoothing scheme to updated parameters</i></p><p>
            In a <span class="selflink">CombinationOptimizationContext</span>, 
            the sampling parameter 
            is smoothed applying the following formula
            (See Rubinstein and Kroese, 
            Remark 5.2, p. 189<sup class="citation"><a href="&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;#cite1">[1]
							</a></sup>):
            <br /><br /><img alt="LaTeX equation" src="../media/latex_4252.svg" /><br /><br />
            where <img alt="LaTeX equation" src="../media/latex_4253.svg" style="vertical-align: -1px" />.
            </p><p><b><i>Optimizing step</i></b></p><p>
            The optimizing step is executed after that the underlying 
            Cross-Entropy program 
            has converged. 
            In a specified context, it is expected that, 
            given a reference parameter 
            <img alt="LaTeX equation" src="../media/latex_4254.svg" style="vertical-align: -0px" />, a corresponding reasonable value could be 
            guessed for the optimizing argument of <img alt="LaTeX equation" src="../media/latex_4255.svg" style="vertical-align: -0px" />, 
            say <img alt="LaTeX equation" src="../media/latex_4256.svg" style="vertical-align: -4px" />, with <img alt="LaTeX equation" src="../media/latex_4257.svg" style="vertical-align: -0px" /> a function
            from <img alt="LaTeX equation" src="../media/latex_4258.svg" style="vertical-align: -1px" /> to <img alt="LaTeX equation" src="../media/latex_4259.svg" style="vertical-align: -0px" />. 
            Function <img alt="LaTeX equation" src="../media/latex_4260.svg" style="vertical-align: -0px" /> is defined by overriding method 
            <a href="8571586F.htm">GetOptimalState(DoubleMatrix)</a> 
            that should return <img alt="LaTeX equation" src="../media/latex_4261.svg" style="vertical-align: -4px" />
            given a specific reference parameter <img alt="LaTeX equation" src="../media/latex_4262.svg" style="vertical-align: -0px" />.
            </p><p>
            Given the optimal parameter (the parameter corresponding to the 
            last iteration <img alt="LaTeX equation" src="../media/latex_4263.svg" style="vertical-align: -0px" /> executed by the algorithm before 
            stopping),
            <br /><br /><img alt="LaTeX equation" src="../media/latex_4264.svg" /><br /><br />
            the argument at which the searched extremum is considered 
            as reached according to the Cross-Entropy method will be
            returned as follows.
            The probabilities <img alt="LaTeX equation" src="../media/latex_4265.svg" style="vertical-align: -5px" /> are sorted in increasing order, 
            say obtaining the 
            following ordering:
            <br /><br /><img alt="LaTeX equation" src="../media/latex_4266.svg" /><br /><br />
            and the corresponding sequence of indexes
            <img alt="LaTeX equation" src="../media/latex_4267.svg" style="vertical-align: -5px" />
            such that
            <br /><br /><img alt="LaTeX equation" src="../media/latex_4268.svg" /><br /><br />
            is taken into account by defining the set 
            <img alt="LaTeX equation" src="../media/latex_4269.svg" style="vertical-align: -5px" />
            and returning
            <br /><br /><img alt="LaTeX equation" src="../media/latex_4270.svg" /><br /><br />
            where 
            <img alt="LaTeX equation" src="../media/latex_4271.svg" style="vertical-align: -5px" /> is one if <img alt="LaTeX equation" src="../media/latex_4272.svg" style="vertical-align: -4px" />;
            zero otherwise.
            This is equivalent to include in the optimal combination
            those items having the greatest <img alt="LaTeX equation" src="../media/latex_4273.svg" style="vertical-align: -0px" /> probabilities in 
            parameter <img alt="LaTeX equation" src="../media/latex_4274.svg" style="vertical-align: -2px" />.
            </p><p><b><i>Stopping criterion</i></b></p><p>
            A <span class="selflink">CombinationOptimizationContext</span> never stops before
            executing a number of iterations less than 
            <a href="44E3AF08.htm">MinimumNumberOfIterations</a>, and always stops
            if such number is greater than or equal to
            <a href="CB60FB7E.htm">MaximumNumberOfIterations</a>. 
            </p><p>
            For intermediate iterations, method <a href="658E4A0.htm">StopAtIntermediateIteration(Int32, LinkedList<span id="LST236BBBCF_27"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_27?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>Double<span id="LST236BBBCF_28"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_28?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, LinkedList<span id="LST236BBBCF_29"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_29?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>DoubleMatrix<span id="LST236BBBCF_30"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST236BBBCF_30?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>)</a> is
            called to check if a Cross-Entropy program executing in this
            context should stop or not.
            </p><p>
            In a <span class="selflink">CombinationOptimizationContext</span>, the method 
            analyzes the currently updated reference parameter, 
            say <img alt="LaTeX equation" src="../media/latex_4275.svg" style="vertical-align: -6px" /> as follows. 
            If condition
            <br /><br /><img alt="LaTeX equation" src="../media/latex_4276.svg" /><br /><br />
            can be verified,
            the method returns <span class="code">true</span>; otherwise <span class="code">false</span> is returned.
            Equivalently, the algorithm converges if the indexes of 
            the largest <img alt="LaTeX equation" src="../media/latex_4277.svg" style="vertical-align: -0px" /> probabilities coincide
            <img alt="LaTeX equation" src="../media/latex_4278.svg" style="vertical-align: -0px" /> times in a row of iterations.
            </p><p><b>Instantiating a context for optimizing on combinations</b></p><p>
            At instantiation, the constructor of 
            a <span class="selflink">CombinationOptimizationContext</span> object
            will receive information about the optimization under study by
            means of parameters representing the objective function
            <img alt="LaTeX equation" src="../media/latex_4279.svg" style="vertical-align: -0px" />, the combination constants
            <img alt="LaTeX equation" src="../media/latex_4280.svg" style="vertical-align: -0px" /> and
            <img alt="LaTeX equation" src="../media/latex_4281.svg" style="vertical-align: -0px" />, the extremes of the allowed range of
            intermediate iterations,
            <img alt="LaTeX equation" src="../media/latex_4282.svg" style="vertical-align: -0px" /> and <img alt="LaTeX equation" src="../media/latex_4283.svg" style="vertical-align: -0px" />, and a constant stating 
            if the optimization goal is a maximization or a minimization.
            In addition, the smoothing parameter <img alt="LaTeX equation" src="../media/latex_4284.svg" style="vertical-align: -0px" />
            is also 
            passed to the constructor.
            </p><p>
            After construction, <img alt="LaTeX equation" src="../media/latex_4285.svg" style="vertical-align: -0px" />
            and <img alt="LaTeX equation" src="../media/latex_4286.svg" style="vertical-align: -0px" />
            can be inspected, respectively, via properties
            <a href="44E3AF08.htm">MinimumNumberOfIterations</a> and
            <a href="CB60FB7E.htm">MaximumNumberOfIterations</a>. 
            The smoothing coefficient <img alt="LaTeX equation" src="../media/latex_4287.svg" style="vertical-align: -0px" /> is also
            available via property
            <a href="C1880C30.htm">ProbabilitySmoothingCoefficient</a>.
            Combination constants <img alt="LaTeX equation" src="../media/latex_4288.svg" style="vertical-align: -0px" /> and <img alt="LaTeX equation" src="../media/latex_4289.svg" style="vertical-align: -0px" /> are returned by 
            <a href="6BFCB280.htm">StateDimension</a> and
            <a href="49E242C9.htm">CombinationDimension</a>, respectively.
            In addition, 
            property 
            <a href="847A8F0F.htm">OptimizationGoal</a> 
            signals that the performance function
            must be maximized if it 
            evaluates to the constant <a href="D5F83433.htm">Maximization</a>, or 
            that a minimization is requested
            if it evaluates to
            the constant <a href="D5F83433.htm">Minimization</a>.
            </p><p>
            To evaluate the objective function <img alt="LaTeX equation" src="../media/latex_4290.svg" style="vertical-align: -0px" /> at a
            specific argument, one can call method
            <a href="1AF89526.htm">Performance(DoubleMatrix)</a>
            passing the argument as a parameter.
            It is expected that the objective function 
            will accept a row 
            vector having binary entries as a valid representation of an argument.
            </p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID7RB')" onkeypress="SectionExpandCollapse_CheckKey('ID7RB', event)" tabindex="0"><img id="ID7RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID7RBSection" class="collapsibleSection"><p>
            In the following example, an existing partition of twelve items is explained
            by selecting two features out of the seven ones available in 
            an artificial data set regarding the items under study.
            </p><p>
            The selection criterion is defined as the maximization
            of the Dunn Index in the domain of selectable sub data sets.
            </p><p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EAAABBA_tab1" class="codeSnippetContainerTabSingle">Selecting features from a data set to explain a given partition
            by Dunn Index maximization.</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EAAABBA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID1EAAABBA');return false;" title="Copy">Copy</a></div></div><div id="ID1EAAABBA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> System;
<span class="highlight-keyword">using</span> Novacta.Analytics.Advanced;

<span class="highlight-keyword">namespace</span> Novacta.Analytics.CodeExamples.Advanced
{
    <span class="highlight-keyword">public</span> <span class="highlight-keyword">class</span> CombinationOptimizationContextExample0  
    {
        <span class="highlight-keyword">public</span> <span class="highlight-keyword">void</span> Main()
        {
            <span class="highlight-comment">// Set the number of items and features under study.</span>
            <span class="highlight-keyword">const</span> <span class="highlight-keyword">int</span> numberOfItems = <span class="highlight-number">12</span>;
            <span class="highlight-keyword">int</span> numberOfFeatures = <span class="highlight-number">7</span>;

            <span class="highlight-comment">// Define a partition that must be explained.</span>
            <span class="highlight-comment">// Three parts (clusters) are included,</span>
            <span class="highlight-comment">// containing, respectively, items 0 to 3,</span>
            <span class="highlight-comment">// 4 to 7, and 8 to 11.</span>
            <span class="highlight-keyword">var</span> partition = IndexPartition.Create(
                <span class="highlight-keyword">new</span> <span class="highlight-keyword">double</span>[numberOfItems]
                    { <span class="highlight-number">0</span> ,<span class="highlight-number">0</span>, <span class="highlight-number">0</span>, <span class="highlight-number">0</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">1</span>, <span class="highlight-number">2</span>, <span class="highlight-number">2</span>, <span class="highlight-number">2</span>, <span class="highlight-number">2</span> });

            <span class="highlight-comment">// Create a matrix that will represent</span>
            <span class="highlight-comment">// an artificial data set,</span>
            <span class="highlight-comment">// having 12 items (rows) and 7 features (columns).</span>
            <span class="highlight-comment">// This will store the observations which</span>
            <span class="highlight-comment">// explanation will be based on.</span>
            <span class="highlight-keyword">var</span> data = DoubleMatrix.Dense(
                numberOfRows: numberOfItems,
                numberOfColumns: numberOfFeatures);

            <span class="highlight-comment">// The first 5 features are built to be almost</span>
            <span class="highlight-comment">// surely non informative, since they result</span>
            <span class="highlight-comment">// as samples drawn from a same distribution.</span>
            <span class="highlight-keyword">var</span> g = <span class="highlight-keyword">new</span> GaussianDistribution(mu: <span class="highlight-number">0</span>, sigma: .<span class="highlight-number">01</span>);
            <span class="highlight-keyword">for</span> (<span class="highlight-keyword">int</span> j = <span class="highlight-number">0</span>; j &lt; <span class="highlight-number">5</span>; j++)
            {
                data[<span class="highlight-literal">":"</span>, j] = g.Sample(sampleSize: numberOfItems);
            }

            <span class="highlight-comment">// Features 5 to 6 are instead built to be informative,</span>
            <span class="highlight-comment">// since they are sampled from different distributions</span>
            <span class="highlight-comment">// while filling rows whose indexes are in different parts</span>
            <span class="highlight-comment">// of the partition to be explained.</span>
            <span class="highlight-keyword">var</span> partIdentifiers = partition.Identifiers;
            <span class="highlight-keyword">double</span> mu = <span class="highlight-number">1.0</span>;
            <span class="highlight-keyword">for</span> (<span class="highlight-keyword">int</span> i = <span class="highlight-number">0</span>; i &lt; partIdentifiers.Count; i++)
            {
                <span class="highlight-keyword">var</span> part = partition[partIdentifiers[i]];
                <span class="highlight-keyword">int</span> partSize = part.Count;
                g.Mu = mu;
                data[part, <span class="highlight-number">5</span>] = g.Sample(sampleSize: partSize);
                mu += <span class="highlight-number">2.0</span>;
                g.Mu = mu;
                data[part, <span class="highlight-number">6</span>] = g.Sample(sampleSize: partSize);
                mu += <span class="highlight-number">2.0</span>;
            }

            Console.WriteLine(<span class="highlight-literal">"The data set:"</span>);
            Console.WriteLine(data);

            <span class="highlight-comment">// Define the selection problem as</span>
            <span class="highlight-comment">// the maximization of the Dunn Index.</span>
            <span class="highlight-keyword">double</span> objectiveFunction(DoubleMatrix x)
            {
                <span class="highlight-comment">// An argument x has entries equal to one,</span>
                <span class="highlight-comment">// signaling that the corresponding features </span>
                <span class="highlight-comment">// are selected at x. Otherwise, the entries</span>
                <span class="highlight-comment">// are zero.</span>
                IndexCollection selected = x.FindNonzero();

                <span class="highlight-keyword">double</span> performance =
                    IndexPartition.DunnIndex(
                        data: data[<span class="highlight-literal">":"</span>, selected],
                        partition: partition);

                <span class="highlight-keyword">return</span> performance;
            }

            <span class="highlight-keyword">var</span> optimizationGoal = OptimizationGoal.Maximization;

            <span class="highlight-comment">// Define how many features must be selected</span>
            <span class="highlight-comment">// for explanation.</span>
            <span class="highlight-keyword">int</span> numberOfExplanatoryFeatures = <span class="highlight-number">2</span>;

            <span class="highlight-comment">// Create the required context.</span>
            <span class="highlight-keyword">var</span> context = <span class="highlight-keyword">new</span> CombinationOptimizationContext(
                objectiveFunction: objectiveFunction,
                stateDimension: numberOfFeatures,
                combinationDimension: numberOfExplanatoryFeatures,
                probabilitySmoothingCoefficient: .<span class="highlight-number">8</span>,
                optimizationGoal: optimizationGoal,
                minimumNumberOfIterations: <span class="highlight-number">3</span>,
                maximumNumberOfIterations: <span class="highlight-number">1000</span>);

            <span class="highlight-comment">// Create the optimizer.</span>
            <span class="highlight-keyword">var</span> optimizer = <span class="highlight-keyword">new</span> SystemPerformanceOptimizer()
            {
                PerformanceEvaluationParallelOptions = { MaxDegreeOfParallelism = <span class="highlight-number">-1</span> },
                SampleGenerationParallelOptions = { MaxDegreeOfParallelism = <span class="highlight-number">-1</span> }
            };

            <span class="highlight-comment">// Set optimization parameters.</span>
            <span class="highlight-keyword">double</span> rarity = <span class="highlight-number">0.01</span>;
            <span class="highlight-keyword">int</span> sampleSize = <span class="highlight-number">1000</span>;

            <span class="highlight-comment">// Solve the problem.</span>
            <span class="highlight-keyword">var</span> results = optimizer.Optimize(
                context,
                rarity,
                sampleSize);

            IndexCollection optimalExplanatoryFeatureIndexes =
                results.OptimalState.FindNonzero();

            <span class="highlight-comment">// Show the results.</span>
            Console.WriteLine(
                <span class="highlight-literal">"The Cross-Entropy optimizer has converged: {0}."</span>,
                results.HasConverged);

            Console.WriteLine();
            Console.WriteLine(<span class="highlight-literal">"Initial guess parameter:"</span>);
            Console.WriteLine(context.InitialParameter);

            Console.WriteLine();
            Console.WriteLine(<span class="highlight-literal">"The maximizer of the performance is:"</span>);
            Console.WriteLine(results.OptimalState);

            Console.WriteLine();
            Console.WriteLine(
                <span class="highlight-literal">"The {0} features best explaining the given partition have column indexes:"</span>,
                numberOfExplanatoryFeatures);
            Console.WriteLine(optimalExplanatoryFeatureIndexes);

            Console.WriteLine();
            Console.WriteLine(<span class="highlight-literal">"The maximum performance is:"</span>);
            Console.WriteLine(results.OptimalPerformance);

            Console.WriteLine();
            Console.WriteLine(<span class="highlight-literal">"This is the Dunn Index for the selected features:"</span>);
            <span class="highlight-keyword">var</span> di = IndexPartition.DunnIndex(
                data[<span class="highlight-literal">":"</span>, optimalExplanatoryFeatureIndexes],
                partition);
            Console.WriteLine(di);
        }
    }
}

<span class="highlight-comment">// Executing method Main() produces the following output:</span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// The data set:</span>
<span class="highlight-comment">// 0.00443412891    0.00269053161    0.00413587912    -0.00765022961   -0.00516230961   1.00663787       3.01053155       </span>
<span class="highlight-comment">// -0.00206677161   0.0208840727     -0.00323082941   -0.00939014629   0.00144991289    0.999318094      3.01264231       </span>
<span class="highlight-comment">// 0.0115714825     0.00980880513    0.00490173372    0.00327885751    0.0157818959     0.990821676      3.01207396       </span>
<span class="highlight-comment">// -0.0156854205    -0.00757566326   -0.00972832587   -0.00217925897   0.0107421304     0.992541729      2.99695621       </span>
<span class="highlight-comment">// 0.0022067431     -0.00321077809   -0.00611898592   0.00720305793    0.0128767272     4.99440474       6.99892958       </span>
<span class="highlight-comment">// -0.00637438188   0.00505242911    -0.0040927039    0.00210944391    -0.0152463979    4.9974367        6.99460151       </span>
<span class="highlight-comment">// -0.00662648185   -0.0149292848    0.00236975765    0.0103282087     -0.0108846478    4.99249371       6.98860335       </span>
<span class="highlight-comment">// -0.0219354054    0.012282089      0.01095691       -0.0108910034    0.00275269084    5.02268395       6.99732006       </span>
<span class="highlight-comment">// -0.00172760645   0.000890969089   -0.0121749937    -0.0060896535    -0.0125774475    9.00956698       10.9938497       </span>
<span class="highlight-comment">// 0.0157657881     0.00840849213    0.00295384061    -0.00358519597   0.00447359706    8.98856241       11.0013196       </span>
<span class="highlight-comment">// 0.0129253424     -0.000948574239  0.00235032211    -0.0135124598    -0.023309088     9.00738398       10.9891406       </span>
<span class="highlight-comment">// -0.00848136345   -0.00459883434   -0.0148632861    0.0223964956     -0.00259506386   9.00721897       11.005672        </span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// The Cross-Entropy optimizer has converged: True.</span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// Initial guess parameter:</span>
<span class="highlight-comment">// 0.5              0.5              0.5              0.5              0.5              0.5              0.5              </span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// The maximizer of the performance is:</span>
<span class="highlight-comment">// 0                0                0                0                0                1                1                </span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// The 2 features best explaining the given partition have column indexes:</span>
<span class="highlight-comment">// 5, 6</span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// The maximum performance is:</span>
<span class="highlight-comment">// 179.2086694228848</span>
<span class="highlight-comment">// </span>
<span class="highlight-comment">// This is the Dunn Index for the selected features:</span>
<span class="highlight-comment">// 179.2086694228848</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EAAABBA");</script></p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID8RB')" onkeypress="SectionExpandCollapse_CheckKey('ID8RB', event)" tabindex="0"><img id="ID8RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Bibliography</span></div><div id="ID8RBSection" class="collapsibleSection"><div class="bibliographStyle"><span class="bibliographyNumber" id="cite1">
          [1]
        </span><span class="bibliographyAuthor">Rubinstein, R.Y. and Kroese, D.P.</span>, <span class="bibliographyTitle">The Cross-Entropy Method, A unified Approach to Combinatorial Optimization, Monte-Carlo Simulation, and Machine Learning</span>, <span class="bibliographyPublisher">Springer, New York. (2004)</span></div></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID9RB')" onkeypress="SectionExpandCollapse_CheckKey('ID9RB', event)" tabindex="0"><img id="ID9RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID9RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="F249DE1E.htm">Novacta.Analytics.Advanced Namespace</a></div><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="https://en.wikipedia.org/wiki/Combination" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Combination</a></div></div></div></div><div id="pageFooter" class="pageFooter"><p>Copyright (c) Giovanni Lafratta.</p> </div></body></html>