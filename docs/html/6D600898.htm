<!DOCTYPE html ><html lang="en-US"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" href="../css/bulma.css" /><link rel="stylesheet" href="../css/font-awesome.min.css" /><link rel="stylesheet" href="../css/presentationStyle.css" /><link rel="stylesheet" href="../css/vs.min.css" /><script src="../scripts/jquery-3.5.1.min.js"></script><script src="../scripts/clipboard.min.js"></script><script src="../scripts/highlight.min.js"></script><script src="../scripts/presentationStyle.js"></script><title>CrossEntropyContext.PartialSample Method</title><meta name="Title" content="PartialSample" /><meta name="Help.Id" content="M:Novacta.Analytics.Advanced.CrossEntropyContext.PartialSample(System.Double[],System.Tuple{System.Int32,System.Int32},Novacta.Analytics.RandomNumberGenerator,Novacta.Analytics.DoubleMatrix,System.Int32)" /><meta name="Help.ContentType" content="Reference" /><meta name="container" content="Novacta.Analytics.Advanced" /><meta name="guid" content="6D600898" /><meta name="Description" content="Draws the specified subset of a sample from a distribution characterized by the given parameter, using the stated random number generator. Used when executing the sampling step of a running in this context." /><meta name="tocFile" content="../toc/IDCFBE.xml" /></head><body><div class="fixedLayout"><div id="Header" class="fixedHeader"><div class="pageHeader level mb-0 py-2 px-4"><div id="TitleContainer" class="level-left"><div class="level-item"><img src="../icons/Help.png" /></div><div id="DocumentationTitle" class="level-item">Novacta.Analytics Documentation</div></div><div id="LangFilterSearchContainer" class="level-right"><div class="level-item"><div class="dropdown is-hoverable"><div class="dropdown-trigger"><button class="button" aria-haspopup="true" aria-controls="dropdown-menu"><span id="CurrentLanguage"></span><span class="icon is-small"><i class="fa fa-angle-down" aria-hidden="true"></i></span></button></div><div class="dropdown-menu" role="menu"><div id="LanguageSelections" class="dropdown-content"><a class="dropdown-item languageFilterItem" data-languageId="cs">C#</a><a class="dropdown-item languageFilterItem" data-languageId="vb">VB</a><a class="dropdown-item languageFilterItem" data-languageId="cpp">C++</a><a class="dropdown-item languageFilterItem" data-languageId="fs">F#</a></div></div></div></div><div class="level-item"><form id="SearchForm" action="#" onsubmit="TransferToSearchPage(); return false;"><div class="field"><div class="control has-icons-left"><input id="SearchTerms" class="input" type="text" maxlength="200" placeholder="Search" /><span class="icon is-small is-left"><i class="fa fa-search"></i></span><button id="SearchButton" type="submit" class="is-hidden"></button></div></div></form></div></div></div></div><div class="fixedContent"><nav class="breadcrumb my-1 px-2 border-bottom" role="navigation"><ul id="TopicBreadcrumbs" /></nav><div id="ContentContainer" class="columns pl-5 pr-5 fixedContent"><div id="ShowHideTOCColumn" class="column is-hidden-tablet"><a id="ShowHideTOC">Show/Hide TOC</a></div><div id="TOCColumn" class="column is-hidden-mobile"><nav class="toc"><ul id="TableOfContents" class="toc-menu" /></nav></div><div id="Resizer" class="is-hidden"></div><div id="TopicContent" class="column content is-7"><h1>Cross<wbr />Entropy<wbr />Context<span id="LST9B30860_0" data-languageSpecificText="cpp=::|nu=."></span>Partial<wbr />Sample Method</h1><div class="summary">
            Draws the specified subset of a sample from a distribution 
            characterized by the given parameter, using the stated
            random number generator. Used when executing the sampling
            step of a  <a href="298402DD.htm">CrossEntropyProgram</a> running
            in this context.
            </div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>Definition</h2><div id="IDBSection"><strong>Namespace:</strong> <a href="F249DE1E.htm">Novacta.Analytics.Advanced</a><br /><strong>Assembly:</strong> Novacta.Analytics (in Novacta.Analytics.dll) Version: 2.1.0+428f3840cfab98dda567bb0ed350b302533e273a<div class="codeSnippet" data-codeSnippetLanguage="cs"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><span class="buttons"><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></span></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="identifier">PartialSample</span>(
	<span class="identifier">double</span>[] <span class="parameter">destinationArray</span>,
	<span class="identifier">Tuple</span>&lt;<span class="identifier">int</span>, <span class="identifier">int</span>&gt; <span class="parameter">sampleSubsetRange</span>,
	<span class="identifier">RandomNumberGenerator</span> <span class="parameter">randomNumberGenerator</span>,
	<span class="identifier">DoubleMatrix</span> <span class="parameter">parameter</span>,
	<span class="identifier">int</span> <span class="parameter">sampleSize</span>
)</code></pre></div></div><div class="codeSnippet is-hidden" data-codeSnippetLanguage="vb"><div class="codeHeader"><span class="codeHeaderTitle">VB</span><span class="buttons"><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></span></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-vb"><span class="keyword">Protected</span> <span class="keyword">MustOverride</span> <span class="keyword">Sub</span> <span class="identifier">PartialSample</span> ( 
	<span class="parameter">destinationArray</span> <span class="keyword">As</span> <span class="identifier">Double</span>(),
	<span class="parameter">sampleSubsetRange</span> <span class="keyword">As</span> <span class="identifier">Tuple</span>(<span class="keyword">Of</span> <span class="identifier">Integer</span>, <span class="identifier">Integer</span>),
	<span class="parameter">randomNumberGenerator</span> <span class="keyword">As</span> <span class="identifier">RandomNumberGenerator</span>,
	<span class="parameter">parameter</span> <span class="keyword">As</span> <span class="identifier">DoubleMatrix</span>,
	<span class="parameter">sampleSize</span> <span class="keyword">As</span> <span class="identifier">Integer</span>
)</code></pre></div></div><div class="codeSnippet is-hidden" data-codeSnippetLanguage="cpp"><div class="codeHeader"><span class="codeHeaderTitle">C++</span><span class="buttons"><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></span></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cpp"><span class="keyword">protected</span>:
<span class="keyword">virtual</span> <span class="keyword">void</span> <span class="identifier">PartialSample</span>(
	<span class="keyword">array</span>&lt;<span class="identifier">double</span>&gt;^ <span class="parameter">destinationArray</span>, 
	<span class="identifier">Tuple</span>&lt;<span class="identifier">int</span>, <span class="identifier">int</span>&gt;^ <span class="parameter">sampleSubsetRange</span>, 
	<span class="identifier">RandomNumberGenerator</span>^ <span class="parameter">randomNumberGenerator</span>, 
	<span class="identifier">DoubleMatrix</span>^ <span class="parameter">parameter</span>, 
	<span class="identifier">int</span> <span class="parameter">sampleSize</span>
) <span class="keyword">abstract</span></code></pre></div></div><div class="codeSnippet is-hidden" data-codeSnippetLanguage="fs"><div class="codeHeader"><span class="codeHeaderTitle">F#</span><span class="buttons"><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></span></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-fs"><span class="keyword">abstract</span> <span class="identifier">PartialSample</span> : 
        <span class="parameter">destinationArray</span> : <span class="identifier">float</span>[] * 
        <span class="parameter">sampleSubsetRange</span> : <span class="identifier">Tuple</span>&lt;<span class="identifier">int</span>, <span class="identifier">int</span>&gt; * 
        <span class="parameter">randomNumberGenerator</span> : <span class="identifier">RandomNumberGenerator</span> * 
        <span class="parameter">parameter</span> : <span class="identifier">DoubleMatrix</span> * 
        <span class="parameter">sampleSize</span> : <span class="identifier">int</span> <span class="keyword">-&gt;</span> <span class="keyword">unit</span> </code></pre></div></div><h4>Parameters</h4><dl><dt class="has-text-weight-normal"><span class="parameter">destinationArray</span>  <span id="LST9B30860_1" data-languageSpecificText="cpp=array&lt;"></span><a href="https://learn.microsoft.com/dotnet/api/system.double" target="_blank" rel="noopener noreferrer">Double</a><span id="LST9B30860_2" data-languageSpecificText="cpp=&gt;|vb=()|nu=[]"></span></dt><dd>
            The destination array that 
            receives the overall sampled data.
            </dd><dt class="has-text-weight-normal"><span class="parameter">sampleSubsetRange</span>  <a href="https://learn.microsoft.com/dotnet/api/system.tuple-2" target="_blank" rel="noopener noreferrer">Tuple</a><span id="LST9B30860_3" data-languageSpecificText="cpp=&lt;|cs=&lt;|fs=&lt;|vb=(Of |nu=("></span><a href="https://learn.microsoft.com/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer">Int32</a>, <a href="https://learn.microsoft.com/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer">Int32</a><span id="LST9B30860_4" data-languageSpecificText="cpp=&gt;|cs=&gt;|fs=&gt;|vb=)|nu=)"></span></dt><dd>
            The range specifying the subset of sampled points to draw.
            </dd><dt class="has-text-weight-normal"><span class="parameter">randomNumberGenerator</span>  <a href="E076C0AC.htm">RandomNumberGenerator</a></dt><dd>
            The random number generator exploited to sample.
            </dd><dt class="has-text-weight-normal"><span class="parameter">parameter</span>  <a href="1DED9EB1.htm">DoubleMatrix</a></dt><dd>
            The parameter characterizing the probability distribution
            from which the sample subset must be drawn.
            </dd><dt class="has-text-weight-normal"><span class="parameter">sampleSize</span>  <a href="https://learn.microsoft.com/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer">Int32</a></dt><dd>
            The overall sample size.
            </dd></dl></div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>Remarks</h2><div id="IDGCSection"><p>
            Class <a href="298402DD.htm">CrossEntropyProgram</a> can run in parallel 
            the generation of the points in the sampling step of the 
            Cross-Entropy program. 
            Such generations can be carried out efficiently in parallel, 
            since the sampled points are assumed to be statistically 
            independent. 
            The points are represented by the rows of the matrix returned by 
            method <a href="CD524A5D.htm">Sample(CrossEntropyContext, Int32, DoubleMatrix)</a>. 
            The matrix has <span class="parameter">sampleSize</span> rows and a number of
            columns equal to the <a href="6BFCB280.htm">StateDimension</a>
            of the system under study. 
            Parameter <span class="parameter">destinationArray</span> must be interpreted as
            a <a href="8568BD14.htm">ColumnMajor</a> ordered, 
            <a href="6274B7FA.htm">Dense</a> representation
            of such matrix.
            </p><p>
            To enable parallel sampling procedures, the collection of row 
            indexes of such matrix are partitioned, and each part is assigned to 
            a thread in a specific pool for processing.
            Method <span class="selflink">SubSample</span> 
            is called when sampling locally to a given thread in the pool, and 
            receives the range of points to be sampled in the current thread through
            parameter <span class="parameter">sampleSubsetRange</span>.
            Each item in the range must thus be a valid row index for the
            matrix returned 
            by <a href="CD524A5D.htm">Sample</a>, 
            which implies that it must be nonnegative and less than the size
            of the sample, <span class="parameter">sampleSize</span>. 
            </p><p>
            Ranges are represented as <a href="https://learn.microsoft.com/dotnet/api/system.tuple-2" target="_blank" rel="noopener noreferrer">Tuple<span id="LST9B30860_5" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'"></span>T1, T2<span id="LST9B30860_6" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;"></span></a> instances, 
            and must be 
            interpreted as <a href="https://learn.microsoft.com/dotnet/api/system.tuple-2.item1" target="_blank" rel="noopener noreferrer">Item1</a> included, 
            <a href="https://learn.microsoft.com/dotnet/api/system.tuple-2.item2" target="_blank" rel="noopener noreferrer">Item2</a> excluded ranges. When called, 
            it is expected 
            that the method will fill the rows of the sample matrix corresponding 
            to the indexes inside the range.
            More thoroughly, let <img alt="LaTeX equation" src="../media/latex_9398.svg" style="vertical-align: -2px" /> be
            <a href="https://learn.microsoft.com/dotnet/api/system.tuple-2.item1" target="_blank" rel="noopener noreferrer">Item1</a>
            and <img alt="LaTeX equation" src="../media/latex_9399.svg" style="vertical-align: -2px" /> be <a href="https://learn.microsoft.com/dotnet/api/system.tuple-2.item2" target="_blank" rel="noopener noreferrer">Item2</a>, and let 
            <img alt="LaTeX equation" src="../media/latex_9400.svg" /> and <img alt="LaTeX equation" src="../media/latex_9401.svg" /> represent, respectively,
            <a href="6BFCB280.htm">StateDimension</a> and <span class="parameter">sampleSize</span>. Then,
            for <img alt="LaTeX equation" src="../media/latex_9402.svg" style="vertical-align: -2px" /> and
            <img alt="LaTeX equation" src="../media/latex_9403.svg" style="vertical-align: -4px" />, this method
            is expected to fill the  
            <img alt="LaTeX equation" src="../media/latex_9404.svg" style="vertical-align: -4px" />-th position
            of <span class="parameter">destinationArray</span> with the 
            <img alt="LaTeX equation" src="../media/latex_9405.svg" style="vertical-align: -4px" />-th component of the <img alt="LaTeX equation" src="../media/latex_9406.svg" />-th sampled 
            point.
            </p><p>
            The method also receive a random number generator which is local 
            to the current 
            thread. You should not use generators other than this in the body 
            of this method.
            In fact, a distinct random number generator is assigned to whatever 
            thread was scheduled 
            to execute <span class="selflink">SubSample</span>. 
            Such generators are recycled together with their 
            corresponding threads,
            and are statistically mutually independent.
            </p></div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>See Also</h2><div id="seeAlsoSection"><h4>Reference</h4><div><a href="F04A1B18.htm">CrossEntropyContext Class</a></div><div><a href="F249DE1E.htm">Novacta.Analytics.Advanced Namespace</a></div></div></div><div id="InThisArticleColumn" class="column is-hidden-mobile"><nav class="menu sticky is-hidden"><p class="menu-label"><strong>In This Article</strong></p><ul id="InThisArticleMenu" class="menu-list"><li><a class="quickLink">Definition</a></li><li><a class="quickLink">Remarks</a></li><li><a class="quickLink">See Also</a></li></ul></nav></div></div></div><footer id="PageFooter" class="footer border-top py-3 fixedFooter"><div class="columns"><div id="FooterContent" class="column"><p>Copyright (c) Giovanni Lafratta.</p> 
				</div></div></footer></div><script>$(function(){
SetDefaultLanguage("cs");
LoadTocFile(null, null);
InitializeQuickLinks();

$(".toggleSection" ).click(function () {
    SectionExpandCollapse(this);
});

$(".toggleSection").keypress(function () {
    SectionExpandCollapseCheckKey(this, event)
});
hljs.highlightAll();
});</script></body></html>