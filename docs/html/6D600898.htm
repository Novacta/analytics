<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CrossEntropyContext.PartialSample Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="PartialSample method" /><meta name="System.Keywords" content="CrossEntropyContext.PartialSample method" /><meta name="Microsoft.Help.F1" content="Novacta.Analytics.Advanced.CrossEntropyContext.PartialSample" /><meta name="Microsoft.Help.Id" content="M:Novacta.Analytics.Advanced.CrossEntropyContext.PartialSample(System.Double[],System.Tuple{System.Int32,System.Int32},Novacta.Analytics.RandomNumberGenerator,Novacta.Analytics.DoubleMatrix,System.Int32)" /><meta name="Description" content="Draws the specified subset of a sample from a distribution characterized by the given parameter, using the stated random number generator. Used when executing the sampling step of a running in this context." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Novacta.Analytics.Advanced" /><meta name="file" content="6D600898" /><meta name="guid" content="6D600898" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.5.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Novacta.Analytics Documentation<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/a4ea75a2-ef53-4ea2-a7f4-b493a50f90b3.htm" title="Novacta.Analytics Documentation" tocid="roottoc">Novacta.Analytics Documentation</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/D9FC3C8F.htm" title="Novacta.Analytics namespaces" tocid="D9FC3C8F">Novacta.Analytics namespaces</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/F249DE1E.htm" title="Novacta.Analytics.Advanced" tocid="F249DE1E">Novacta.Analytics.Advanced</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/F04A1B18.htm" title="CrossEntropyContext Class" tocid="F04A1B18">CrossEntropyContext Class</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/2EC89A3A.htm" title="CrossEntropyContext Methods" tocid="2EC89A3A">CrossEntropyContext Methods</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/62A32EE8.htm" title="OnExecutedIteration Method " tocid="62A32EE8">OnExecutedIteration Method </a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/6D600898.htm" title="PartialSample Method " tocid="6D600898">PartialSample Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1AF89526.htm" title="Performance Method " tocid="1AF89526">Performance Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/CFD7B8A4.htm" title="StopExecution Method " tocid="CFD7B8A4">StopExecution Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/52F57EB0.htm" title="UpdateLevel Method " tocid="52F57EB0">UpdateLevel Method </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4AE2243.htm" title="UpdateParameter Method " tocid="4AE2243">UpdateParameter Method </a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>CrossEntropyContext<span id="LST9B30860_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_0?cpp=::|nu=.");</script>PartialSample Method </h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Draws the specified subset of a sample from a distribution 
            characterized by the given parameter, using the stated
            random number generator. Used when executing the sampling
            step of a  <a href="298402DD.htm">CrossEntropyProgram</a> running
            in this context.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="F249DE1E.htm">Novacta.Analytics.Advanced</a><br />
    <strong>Assembly:</strong>
   Novacta.Analytics (in Novacta.Analytics.dll) Version: 2.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID1RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EDCA_tab1" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cs','1','4');return false;">C#</a></div><div id="ID0EDCA_tab2" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','vb','2','4');return false;">VB</a></div><div id="ID0EDCA_tab3" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cpp','3','4');return false;">C++</a></div><div id="ID0EDCA_tab4" class="codeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','fs','4','4');return false;">F#</a></div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EDCA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EDCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EDCA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="identifier">PartialSample</span>(
	<span class="identifier">double</span>[] <span class="parameter">destinationArray</span>,
	<span class="identifier">Tuple</span>&lt;<span class="identifier">int</span>, <span class="identifier">int</span>&gt; <span class="parameter">sampleSubsetRange</span>,
	<span class="identifier">RandomNumberGenerator</span> <span class="parameter">randomNumberGenerator</span>,
	<span class="identifier">DoubleMatrix</span> <span class="parameter">parameter</span>,
	<span class="identifier">int</span> <span class="parameter">sampleSize</span>
)</pre></div><div id="ID0EDCA_code_Div2" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Protected</span> <span class="keyword">MustOverride</span> <span class="keyword">Sub</span> <span class="identifier">PartialSample</span> ( 
	<span class="parameter">destinationArray</span> <span class="keyword">As</span> <span class="identifier">Double</span>(),
	<span class="parameter">sampleSubsetRange</span> <span class="keyword">As</span> <span class="identifier">Tuple</span>(<span class="keyword">Of</span> <span class="identifier">Integer</span>, <span class="identifier">Integer</span>),
	<span class="parameter">randomNumberGenerator</span> <span class="keyword">As</span> <span class="identifier">RandomNumberGenerator</span>,
	<span class="parameter">parameter</span> <span class="keyword">As</span> <span class="identifier">DoubleMatrix</span>,
	<span class="parameter">sampleSize</span> <span class="keyword">As</span> <span class="identifier">Integer</span>
)</pre></div><div id="ID0EDCA_code_Div3" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">protected</span>:
<span class="keyword">virtual</span> <span class="keyword">void</span> <span class="identifier">PartialSample</span>(
	<span class="keyword">array</span>&lt;<span class="identifier">double</span>&gt;^ <span class="parameter">destinationArray</span>, 
	<span class="identifier">Tuple</span>&lt;<span class="identifier">int</span>, <span class="identifier">int</span>&gt;^ <span class="parameter">sampleSubsetRange</span>, 
	<span class="identifier">RandomNumberGenerator</span>^ <span class="parameter">randomNumberGenerator</span>, 
	<span class="identifier">DoubleMatrix</span>^ <span class="parameter">parameter</span>, 
	<span class="identifier">int</span> <span class="parameter">sampleSize</span>
) <span class="keyword">abstract</span></pre></div><div id="ID0EDCA_code_Div4" class="codeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">abstract</span> <span class="identifier">PartialSample</span> : 
        <span class="parameter">destinationArray</span> : <span class="identifier">float</span>[] * 
        <span class="parameter">sampleSubsetRange</span> : <span class="identifier">Tuple</span>&lt;<span class="identifier">int</span>, <span class="identifier">int</span>&gt; * 
        <span class="parameter">randomNumberGenerator</span> : <span class="identifier">RandomNumberGenerator</span> * 
        <span class="parameter">parameter</span> : <span class="identifier">DoubleMatrix</span> * 
        <span class="parameter">sampleSize</span> : <span class="identifier">int</span> <span class="keyword">-&gt;</span> <span class="keyword">unit</span> 
</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EDCA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">destinationArray</span></dt><dd>Type: <span id="LST9B30860_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_1?cpp=array&lt;");</script><a href="https://docs.microsoft.com/dotnet/api/system.double" target="_blank" rel="noopener noreferrer">System<span id="LST9B30860_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Double</a><span id="LST9B30860_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_3?cpp=&gt;|vb=()|nu=[]");</script><br />
            The destination array that 
            receives the overall sampled data.
            </dd><dt><span class="parameter">sampleSubsetRange</span></dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.tuple-2" target="_blank" rel="noopener noreferrer">System<span id="LST9B30860_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Tuple</a><span id="LST9B30860_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_5?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="https://docs.microsoft.com/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer">Int32</a>, <a href="https://docs.microsoft.com/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer">Int32</a><span id="LST9B30860_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_6?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />
            The range specifying the subset of sampled points to draw.
            </dd><dt><span class="parameter">randomNumberGenerator</span></dt><dd>Type: <a href="E076C0AC.htm">Novacta.Analytics<span id="LST9B30860_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_7?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>RandomNumberGenerator</a><br />
            The random number generator exploited to sample.
            </dd><dt><span class="parameter">parameter</span></dt><dd>Type: <a href="1DED9EB1.htm">Novacta.Analytics<span id="LST9B30860_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_8?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>DoubleMatrix</a><br />
            The parameter characterizing the probability distribution
            from which the sample subset must be drawn.
            </dd><dt><span class="parameter">sampleSize</span></dt><dd>Type: <a href="https://docs.microsoft.com/dotnet/api/system.int32" target="_blank" rel="noopener noreferrer">System<span id="LST9B30860_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_9?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Int32</a><br />
            The overall sample size.
            </dd></dl></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID2RBSection" class="collapsibleSection"><p>
            Class <a href="298402DD.htm">CrossEntropyProgram</a> can run in parallel 
            the generation of the points in the sampling step of the 
            Cross-Entropy program. 
            Such generations can be carried out efficiently in parallel, 
            since the sampled points are assumed to be statistically 
            independent. 
            The points are represented by the rows of the matrix returned by 
            method <a href="CD524A5D.htm">Sample(CrossEntropyContext, Int32, DoubleMatrix)</a>. 
            The matrix has <span class="parameter">sampleSize</span> rows and a number of
            columns equal to the <a href="6BFCB280.htm">StateDimension</a>
            of the system under study. 
            Parameter <span class="parameter">destinationArray</span> must be interpreted as
            a <a href="8568BD14.htm">ColumnMajor</a> ordered, 
            <a href="6274B7FA.htm">Dense</a> representation
            of such matrix.
            </p><p>
            To enable parallel sampling procedures, the collection of row 
            indexes of such matrix are partitioned, and each part is assigned to 
            a thread in a specific pool for processing.
            Method <span class="selflink">SubSample</span> 
            is called when sampling locally to a given thread in the pool, and 
            receives the range of points to be sampled in the current thread through
            parameter <span class="parameter">sampleSubsetRange</span>.
            Each item in the range must thus be a valid row index for the
            matrix returned 
            by <a href="CD524A5D.htm">Sample</a>, 
            which implies that it must be nonnegative and less than the size
            of the sample, <span class="parameter">sampleSize</span>. 
            </p><p>
            Ranges are represented as <a href="https://docs.microsoft.com/dotnet/api/system.tuple-2" target="_blank" rel="noopener noreferrer">Tuple<span id="LST9B30860_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_10?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>T1, T2<span id="LST9B30860_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST9B30860_11?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script></a> instances, 
            and must be 
            interpreted as <a href="https://docs.microsoft.com/dotnet/api/system.tuple-2.item1#System_Tuple_2_Item1" target="_blank" rel="noopener noreferrer">Item1</a> included, 
            <a href="https://docs.microsoft.com/dotnet/api/system.tuple-2.item2#System_Tuple_2_Item2" target="_blank" rel="noopener noreferrer">Item2</a> excluded ranges. When called, 
            it is expected 
            that the method will fill the rows of the sample matrix corresponding 
            to the indexes inside the range.
            More thoroughly, let <img alt="LaTeX equation" src="../media/latex_4406.svg" style="vertical-align: -2px" /> be
            <a href="https://docs.microsoft.com/dotnet/api/system.tuple-2.item1#System_Tuple_2_Item1" target="_blank" rel="noopener noreferrer">Item1</a>
            and <img alt="LaTeX equation" src="../media/latex_4407.svg" style="vertical-align: -2px" /> be <a href="https://docs.microsoft.com/dotnet/api/system.tuple-2.item2#System_Tuple_2_Item2" target="_blank" rel="noopener noreferrer">Item2</a>, and let 
            <img alt="LaTeX equation" src="../media/latex_4408.svg" style="vertical-align: -0px" /> and <img alt="LaTeX equation" src="../media/latex_4409.svg" style="vertical-align: -0px" /> represent, respectively,
            <a href="6BFCB280.htm">StateDimension</a> and <span class="parameter">sampleSize</span>. Then,
            for <img alt="LaTeX equation" src="../media/latex_4410.svg" style="vertical-align: -2px" /> and
            <img alt="LaTeX equation" src="../media/latex_4411.svg" style="vertical-align: -4px" />, this method
            is expected to fill the  
            <img alt="LaTeX equation" src="../media/latex_4412.svg" style="vertical-align: -4px" />-th position
            of <span class="parameter">destinationArray</span> with the 
            <img alt="LaTeX equation" src="../media/latex_4413.svg" style="vertical-align: -4px" />-th component of the <img alt="LaTeX equation" src="../media/latex_4414.svg" style="vertical-align: -0px" />-th sampled 
            point.
            </p><p>
            The method also receive a random number generator which is local 
            to the current 
            thread. You should not use generators other than this in the body 
            of this method.
            In fact, a distinct random number generator is assigned to whatever 
            thread was scheduled 
            to execute <span class="selflink">SubSample</span>. 
            Such generators are recycled together with their 
            corresponding threads,
            and are statistically mutually independent.
            </p></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID3RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="F04A1B18.htm">CrossEntropyContext Class</a></div><div class="seeAlsoStyle"><a href="F249DE1E.htm">Novacta.Analytics.Advanced Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"><p>Copyright (c) Giovanni Lafratta.</p> </div></body></html>